{% extends 'base.html' %}

{% block content %}

{% for message in get_flashed_messages() %}

	<div class="alert alert-success alert-dismissible fade show" role="alert">
  		{{message}}
  		<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
	</div>
{% endfor %}

<h2> Dashboard </h2> <br> 

<div class="card">

  <div class="card-body">
    <h5 class="card-title">Welcome to your dashboard!</h5>
    <p class="card-text">
    
    <div class="container">

      <div class= "row">

        <div class= "col-8">
          <strong> Name: </strong>
      		{{ current_user.name}} <br>

      		<strong> Username: </strong>
      		{{ current_user.username}} <br>

      		<strong> User ID: </strong>
      		{{ current_user.id}} <br>

      		<strong> Email: </strong>
      		{{ current_user.email}} <br>

          </p>

          <a href="{{url_for('logout')}}" class="btn btn-secondary btn-sm">Logout</a>

          <br> <br>
        </div>

       </div>
      </div>
  </div>
</div>

<br> 
<h2>Update User</h2> <br>

<div class="shadow p-3 mb-5 bg-body rounded">
<form method='POST'>
    {{ form.hidden_tag()}}

    {{ form.name.label(class='form-label') }}

    {{ form.name(class='form-control', value=name_to_update.name) }}

    <br>

    {{ form.username.label(class='form-label') }}

    {{ form.username(class='form-control', value=name_to_update.name) }}

    <br>

    {{ form.email.label(class='form-label') }}

    {{ form.email(class='form-control', value=name_to_update.email) }}
    
    <br>

    {{ form.submit(class='btn btn-secondary') }}

    <a href="{{url_for('delete', id=current_user.id)}}" class="btn btn-danger">Delete</a>
  </form>
</div>

{% endblock %}